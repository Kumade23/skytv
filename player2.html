<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SKY TV - Kumade23</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            background-color: #000;
            color: #fff;
        }
        .container {
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background-color: #1a1a1a;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.1);
        }
        h1 {
            text-align: center;
            color: #fff;
        }
        form {
            margin-top: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        label {
            margin-bottom: 10px;
            font-weight: bold;
            color: #fff;
        }
        select {
            width: 100%;
            padding: 10px;
            margin-bottom: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
            background-color: #333;
            color: #fff;
        }
        button {
            padding: 12px 20px;
            background-color: #4CAF50;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #45a049;
        }
        #player {
            width: 100%;
            max-width: 800px;
            margin: 20px auto;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>SKY TV - Kumade23</h1>

    <div id="player"></div>

    <form id="videoForm" onsubmit="playVideo(event);">
        <label for="channel">Select Channel:</label>
        <select id="channel" name="channel">
            <option value="eurosport1">Eurosport 1</option>
            <option value="eurosport2">Eurosport 2</option>
            <option value="sport24">Sport 24</option>
            <option value="skysportuno">Sky Sport Uno</option>
            <option value="skysportarena">Sky Sport Arena</option>
            <option value="skysportmax">Sky Sport Max</option>
            <option value="skysporttennis">Sky Sport Tennis</option>
            <option value="skysportf1">Sky Sport F1</option>
            <option value="skysportmotogp">Sky Sport Moto GP</option>
            <option value="skysportnba">Sky Sport NBA</option>
            <option value="skysportcalcio">Sky Sport Calcio</option>
            <option value="skysport251">Sky Sport 251</option>
            <option value="skysport252">Sky Sport 252</option>
            <option value="skysport253">Sky Sport 253</option>
            <option value="skysport254">Sky Sport 254</option>
            <option value="skysport255">Sky Sport 255</option>
            <option value="skysport256">Sky Sport 256</option>
            <option value="skysport257">Sky Sport 257</option>
            <option value="skysport258">Sky Sport 258</option>
            <option value="skysport259">Sky Sport 259</option>
        </select>
        <button type="submit">Play Video</button>
    </form>
</div>

<script src="jwplayer.js"></script>
<script>
    jwplayer.key = 'XSuP4qMl+9tK17QNb+4+th2Pm9AWgMO/cYH8CI0HGGr7bdjo';

    const channels = {
        eurosport1: {
            dashLink: 'https://linear311-it-dash1-prd.selector.skycdn.it/016a/313073/FHD/eurosport/master_stereo.mpd',
            hlsLink: 'https://linear311-it-hls1-prd.selector.skycdn.it/016a/313073/FHD/eurosport/master.m3u8',
            clearKeyKid: '0036bb3fa7e6f2c334d7cba5c28b6caf',
            clearKey: '217fa35739cd68e90b2cd23322c01312'
        },
        eurosport2: {
            dashLink: 'https://linear312-it-dash1-prd.selector.skycdn.it/016a/31150/FHD/eurosport2/master_stereo.mpd',
            hlsLink: 'https://linear312-it-hls1-prd.selector.skycdn.it/016a/31150/FHD/eurosport2/master.m3u8',
            clearKeyKid: '003670a7034342a4a07c91173818c61c',
            clearKey: '7b90055c1a1ea34d9090e9ebf6c4db8a'
        },
        // Continua ad aggiungere i link HLS per gli altri canali
    };

    // Funzione per rilevare se il dispositivo Ã¨ iOS
    function isIOS() {
        return /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
    }

    function playVideo(event) {
        event.preventDefault();

        const selectedChannel = document.getElementById('channel').value;
        const { dashLink, hlsLink, clearKeyKid, clearKey } = channels[selectedChannel];

        const link = isIOS() ? hlsLink : dashLink;

        const playerSetup = {
            playlist: [{
                sources: [{
                    file: link,
                    type: isIOS() ? "application/x-mpegURL" : "application/dash+xml"
                }]
            }],
            width: "100%",
            aspectratio: "16:9",
            autostart: true
        };

        // Aggiungere la configurazione DRM solo per DASH e non per HLS
        if (!isIOS()) {
            playerSetup.playlist[0].sources[0].drm = {
                clearkey: {
                    keyId: clearKeyKid,
                    key: clearKey
                }
            };
        }

        jwplayer("player").setup(playerSetup);
    }
</script>

</body>
</html>
